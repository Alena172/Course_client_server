{"ast":null,"code":"var _jsxFileName = \"C:\\\\\\u0420\\u041A\\u0421\\u041F_\\u043A\\u0443\\u0440\\u0441\\u0430\\u0447\\\\frontend\\\\src\\\\pages\\\\NewsPage.jsx\";\n// import React, { useEffect, useState } from 'react';\n// import API from '../api';\n// import NewsForm from '../components/NewsForm';\n// import NewsList from '../components/NewsList';\n// import { useNavigate } from 'react-router-dom';\n\n// const NewsPage = () => {\n//   const [news, setNews] = useState([]);\n//   const [recommendedNews, setRecommendedNews] = useState([]);\n//   const [userId, setUserId] = useState(localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user'))._id : null);\n//   const navigate = useNavigate();\n\n//   const fetchNews = async () => {\n//     try {\n//       const res = await API.get('/news');\n//       setNews(res.data);\n//     } catch (err) {\n//       alert('Ошибка при загрузке новостей');\n//     }\n//   };\n\n//   const fetchRecommendations = async () => {\n//     if (!userId) return;\n\n//     try {\n//       const res = await API.get(`/news/recommendations/${userId}`);\n//       setRecommendedNews(res.data);\n//     } catch (err) {\n//       alert('Ошибка при получении рекомендаций');\n//     }\n//   };\n\n//   const handleAdd = async (article) => {\n//     try {\n//       await API.post('/news', article);\n//       fetchNews();\n//     } catch (err) {\n//       alert('Не удалось добавить новость');\n//     }\n//   };\n\n//   const handleDelete = async (id) => {\n//     try {\n//       await API.delete(`/news/${id}`);\n//       fetchNews();\n//     } catch (err) {\n//       alert('Не удалось удалить новость');\n//     }\n//   };\n\n//   const handleLogout = () => {\n//     localStorage.removeItem('token');\n//     localStorage.removeItem('user');\n//     navigate('/login');\n//   };\n\n//   useEffect(() => {\n//     fetchNews();\n//     fetchRecommendations();\n//   }, [userId]);\n\n//   return (\n//     <div style={{ maxWidth: 800, margin: 'auto' }}>\n//       <h2>Новости</h2>\n//       <button onClick={handleLogout}>Выйти</button>\n//       <button onClick={() => API.get('/1/journal').catch(console.error)}>\n//         Проверить доступ\n//         </button>\n\n//       <h3>Рекомендованные новости</h3>\n//       <NewsList \n//         news={news} \n//         onDelete={handleDelete}\n//         onAddToJournal={fetchRecommendations} // Обновляем рекомендации после добавления\n//         showAddButton={true}\n//         showDeleteButton={false}\n//         />\n\n//       <h3>Все новости</h3>\n//       <NewsForm onAdd={handleAdd} />\n//       <NewsList news={news} onDelete={handleDelete} userId={userId} />\n//     </div>\n\n//   );\n// };\n\n// export default NewsPage;\n\nimport React from 'react';\nimport NewsFeed from '../components/NewsFeed';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NewsPage = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 800,\n      margin: 'auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u041D\\u043E\\u0432\\u043E\\u0441\\u0442\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(NewsFeed, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n_c = NewsPage;\nexport default NewsPage;\nvar _c;\n$RefreshReg$(_c, \"NewsPage\");","map":{"version":3,"names":["React","NewsFeed","jsxDEV","_jsxDEV","NewsPage","style","maxWidth","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/РКСП_курсач/frontend/src/pages/NewsPage.jsx"],"sourcesContent":["// import React, { useEffect, useState } from 'react';\r\n// import API from '../api';\r\n// import NewsForm from '../components/NewsForm';\r\n// import NewsList from '../components/NewsList';\r\n// import { useNavigate } from 'react-router-dom';\r\n\r\n// const NewsPage = () => {\r\n//   const [news, setNews] = useState([]);\r\n//   const [recommendedNews, setRecommendedNews] = useState([]);\r\n//   const [userId, setUserId] = useState(localStorage.getItem('user') ? JSON.parse(localStorage.getItem('user'))._id : null);\r\n//   const navigate = useNavigate();\r\n\r\n//   const fetchNews = async () => {\r\n//     try {\r\n//       const res = await API.get('/news');\r\n//       setNews(res.data);\r\n//     } catch (err) {\r\n//       alert('Ошибка при загрузке новостей');\r\n//     }\r\n//   };\r\n\r\n//   const fetchRecommendations = async () => {\r\n//     if (!userId) return;\r\n\r\n//     try {\r\n//       const res = await API.get(`/news/recommendations/${userId}`);\r\n//       setRecommendedNews(res.data);\r\n//     } catch (err) {\r\n//       alert('Ошибка при получении рекомендаций');\r\n//     }\r\n//   };\r\n\r\n//   const handleAdd = async (article) => {\r\n//     try {\r\n//       await API.post('/news', article);\r\n//       fetchNews();\r\n//     } catch (err) {\r\n//       alert('Не удалось добавить новость');\r\n//     }\r\n//   };\r\n\r\n//   const handleDelete = async (id) => {\r\n//     try {\r\n//       await API.delete(`/news/${id}`);\r\n//       fetchNews();\r\n//     } catch (err) {\r\n//       alert('Не удалось удалить новость');\r\n//     }\r\n//   };\r\n\r\n//   const handleLogout = () => {\r\n//     localStorage.removeItem('token');\r\n//     localStorage.removeItem('user');\r\n//     navigate('/login');\r\n//   };\r\n\r\n//   useEffect(() => {\r\n//     fetchNews();\r\n//     fetchRecommendations();\r\n//   }, [userId]);\r\n\r\n//   return (\r\n//     <div style={{ maxWidth: 800, margin: 'auto' }}>\r\n//       <h2>Новости</h2>\r\n//       <button onClick={handleLogout}>Выйти</button>\r\n//       <button onClick={() => API.get('/1/journal').catch(console.error)}>\r\n//         Проверить доступ\r\n//         </button>\r\n\r\n//       <h3>Рекомендованные новости</h3>\r\n//       <NewsList \r\n//         news={news} \r\n//         onDelete={handleDelete}\r\n//         onAddToJournal={fetchRecommendations} // Обновляем рекомендации после добавления\r\n//         showAddButton={true}\r\n//         showDeleteButton={false}\r\n//         />\r\n\r\n//       <h3>Все новости</h3>\r\n//       <NewsForm onAdd={handleAdd} />\r\n//       <NewsList news={news} onDelete={handleDelete} userId={userId} />\r\n//     </div>\r\n    \r\n//   );\r\n// };\r\n\r\n// export default NewsPage;\r\n\r\n\r\nimport React from 'react';\r\nimport NewsFeed from '../components/NewsFeed';\r\n\r\nconst NewsPage = () => {\r\n  return (\r\n    <div style={{ maxWidth: 800, margin: 'auto' }}>\r\n      <h2>Новости</h2>\r\n      <NewsFeed />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewsPage;\r\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAGA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,wBAAwB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9C,MAAMC,QAAQ,GAAGA,CAAA,KAAM;EACrB,oBACED,OAAA;IAAKE,KAAK,EAAE;MAAEC,QAAQ,EAAE,GAAG;MAAEC,MAAM,EAAE;IAAO,CAAE;IAAAC,QAAA,gBAC5CL,OAAA;MAAAK,QAAA,EAAI;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAChBT,OAAA,CAACF,QAAQ;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACT,CAAC;AAEV,CAAC;AAACC,EAAA,GAPIT,QAAQ;AASd,eAAeA,QAAQ;AAAC,IAAAS,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}